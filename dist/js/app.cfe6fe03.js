(function(){"use strict";var e={6020:function(e,t,n){var a=n(9242),o=n(3396);function r(e,t,n,a,r,i){const l=(0,o.up)("app-header"),s=(0,o.up)("router-view"),u=(0,o.up)("app-footer"),c=(0,o.up)("app-layout");return(0,o.wg)(),(0,o.j4)(c,null,{header:(0,o.w5)((()=>[(0,o.Wm)(l)])),content:(0,o.w5)((()=>[(0,o.Wm)(s)])),footer:(0,o.w5)((()=>[(0,o.Wm)(u)])),_:1})}var i=n(9574);const l=e=>((0,o.dD)("data-v-079d3972"),e=e(),(0,o.Cn)(),e),s={class:"header"},u=l((()=>(0,o._)("img",{src:i,alt:""},null,-1))),c=[u];function p(e,t,n,a,r,i){return(0,o.wg)(),(0,o.iD)("header",s,c)}var d={name:"AppHeader",setup(){}},v=n(89);const f=(0,v.Z)(d,[["render",p],["__scopeId","data-v-079d3972"]]);var g=f;const b=e=>((0,o.dD)("data-v-7b8b4f1a"),e=e(),(0,o.Cn)(),e),w={class:"footer"},h=b((()=>(0,o._)("div",{class:"footer-info"},[(0,o._)("a",{href:"https://github.com/patxxi/cargofive-interview"},"Github"),(0,o._)("span",null,"Francisco Ruiz"),(0,o._)("a",{href:"https://cargofive.com/es/"},"Cargofive")],-1))),_=[h];function y(e,t,n,a,r,i){return(0,o.wg)(),(0,o.iD)("footer",w,_)}var m={name:"AppFooter",setup(){}};const k=(0,v.Z)(m,[["render",y],["__scopeId","data-v-7b8b4f1a"]]);var D=k;const H={class:"Layout"};function C(e,t,n,a,r,i){return(0,o.wg)(),(0,o.iD)("main",H,[(0,o.WI)(e.$slots,"header",{},void 0,!0),(0,o.WI)(e.$slots,"content",{},void 0,!0),(0,o.WI)(e.$slots,"footer",{},void 0,!0)])}var P={name:"AppLayout",setup(){}};const A=(0,v.Z)(P,[["render",C],["__scopeId","data-v-0b5b2ac6"]]);var F=A,O={setup(){},components:{AppHeader:g,AppFooter:D,AppLayout:F}};const j=(0,v.Z)(O,[["render",r]]);var I=j,K=n(678);const $={key:1};function T(e,t,n,a,r,i){const l=(0,o.up)("app-filter"),s=(0,o.up)("app-table"),u=(0,o.up)("app-pagination");return a.ports.data?((0,o.wg)(),(0,o.j4)(u,{key:0,lastPage:a.ports.meta.last_page,onChangePage:a.updateTable},{table:(0,o.w5)((()=>[(0,o.Wm)(l,{data:a.ports.data,filterKeys:a.headers,onHandleFilter:a.filterTable,onHandleClean:a.cleanFilter},null,8,["data","filterKeys","onHandleFilter","onHandleClean"]),((0,o.wg)(),(0,o.j4)(s,{head:"Puertos",body:a.filteredPorts,headers:a.headers,key:a.filteredPorts},null,8,["body","headers"]))])),_:1},8,["lastPage","onChangePage"])):((0,o.wg)(),(0,o.iD)("h1",$,"Loading..."))}var x=n(4870),W=n(7139);const Z={class:"table-wrapper"},q={class:"fl-table"},z={key:0};function L(e,t,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("table",q,[n.head?((0,o.wg)(),(0,o.iD)("thead",z,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.tableHeaders,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},(0,W.zw)(e),1)))),128))])])):(0,o.kq)("",!0),(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.tableBody,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,t)=>((0,o.wg)(),(0,o.iD)("th",{key:t},(0,W.zw)(e),1)))),128))])))),128))])])])}var Y={name:"AppTable",props:["headers","head","body"],setup(e){return{tableHeaders:e.headers,tableHead:e.head,tableBody:e.body}}};const V=(0,v.Z)(Y,[["render",L],["__scopeId","data-v-314598b9"]]);var U=V;const B={class:"pagination-wrapper"},E={class:"pagination"},M=["onClick"];function G(e,t,n,a,r,i){return(0,o.wg)(),(0,o.iD)("div",B,[(0,o.WI)(e.$slots,"table",{},void 0,!0),(0,o._)("div",E,[(0,o._)("button",{onClick:t[0]||(t[0]=t=>{a.setActive(1),e.$emit("changePage",1)}),type:"button",class:"pagination__button pagination__button--back"}," « "),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.pages,(t=>((0,o.wg)(),(0,o.iD)("button",{type:"button",key:t,class:(0,W.C_)(["pagination__button",a.active===t&&"pagination__button--active"]),onClick:n=>{a.setActive(t),e.$emit("changePage",t)}},(0,W.zw)(t),11,M)))),128)),(0,o._)("button",{type:"button",class:"pagination__button pagination__button--next",onClick:t[1]||(t[1]=t=>{a.setActive(a.paginationLimit),e.$emit("changePage",25)})}," » ")])])}var R={name:"AppPagination",props:["lastPage","double"],setup(e){const t=(0,x.iH)(e.lastPage),n=(0,x.iH)(1),a=e=>{n.value=e},r=(0,o.Fl)((()=>{const e=[];for(let a=n.value-2;a<=n.value+4;a++)a<=0||a>t.value||e.push(a);return e}));return{paginationLimit:t,setActive:a,active:n,pages:r}}};const S=(0,v.Z)(R,[["render",G],["__scopeId","data-v-3eed3824"]]);var J=S;const N=e=>((0,o.dD)("data-v-9b62d574"),e=e(),(0,o.Cn)(),e),Q={class:"filter-wrapper"},X={class:"filters-container"},ee=["name","id","onUpdate:modelValue"],te=N((()=>(0,o._)("option",{value:null},null,-1))),ne=["value"],ae={class:"buttons-container"};function oe(e,t,n,r,i,l){return(0,o.wg)(),(0,o.iD)("div",Q,[(0,o._)("div",X,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.filters,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"filter",key:e},[(0,o._)("span",null,(0,W.zw)(e),1),(0,o.wy)((0,o._)("select",{name:e,id:e,"onUpdate:modelValue":t=>r.query[e]=t},[te,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.getUniqueValues(e),(e=>((0,o.wg)(),(0,o.iD)("option",{value:e,key:e},(0,W.zw)(e),9,ne)))),128))],8,ee),[[a.bM,r.query[e]]])])))),128))]),(0,o._)("div",ae,[(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.$emit("handleFilter",r.query))},"Filter"),(0,o._)("button",{onClick:t[1]||(t[1]=t=>{r.cleanFilter(),e.$emit("handleClean")})}," Clear ")])])}var re={name:"AppFilter",props:["data","filterKeys"],setup(e){const t=(0,x.iH)({}),n=t=>{const n=new Set;return e.data.forEach((e=>{n.add(e[t])})),n},a=()=>{t.value={}};return{filters:e.filterKeys,getUniqueValues:n,query:t,cleanFilter:a}}};const ie=(0,v.Z)(re,[["render",oe],["__scopeId","data-v-9b62d574"]]);var le=ie;const se=async(e=1)=>{const t=`http://apitest.cargofive.com/api/ports?page=${e}`;try{const e=await fetch(t),n=await e.json();return n}catch(n){console.log(n)}};var ue={name:"HomeView",components:{AppTable:U,AppPagination:J,AppFilter:le},setup(){const e=(0,x.iH)({}),t=(0,x.iH)([]),n=async n=>{const a=await se(n);e.value={...a},t.value=[...e.value.data],window.scrollTo(0,0)};(0,o.wF)((async()=>{await n()}));const a=e=>{for(let n in e)e[n]&&(t.value=t.value.filter((t=>t[n]===e[n])))},r=()=>{t.value=[...e.value.data]},i=["id","name","country","continent","Coordinates"];return{ports:e,headers:i,updateTable:n,filterTable:a,filteredPorts:t,cleanFilter:r}}};const ce=(0,v.Z)(ue,[["render",T]]);var pe=ce;const de=[{path:"/",name:"home",component:pe}],ve=(0,K.p7)({history:(0,K.r5)(),routes:de});var fe=ve;(0,a.ri)(I).use(fe).mount("#app")},9574:function(e,t,n){e.exports=n.p+"img/logo.deb5faac.svg"}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,r){if(!a){var i=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],r=e[c][2];for(var l=!0,s=0;s<a.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(l=!1,r<i&&(i=r));if(l){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[a,o,r]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/cargofive-interview/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,i=a[0],l=a[1],s=a[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)n.o(l,o)&&(n.m[o]=l[o]);if(s)var c=s(n)}for(t&&t(a);u<i.length;u++)r=i[u],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(c)},a=self["webpackChunkcargofive_interview"]=self["webpackChunkcargofive_interview"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(6020)}));a=n.O(a)})();
//# sourceMappingURL=app.cfe6fe03.js.map